import{_,m as y,o,c as n,a as t,w as r,v as d,i as g,f as b,F as c,g as v,t as h,h as k,d as m}from"./index-aa7d2c7e.js";const w={data(){return{setting:{id:"00000000-0000-0000-0000-000000000000",name:null,description:null,type:0,value:""},valueObj:{},valueArr:[],value:null,valueBoolean:!1,alerts:[],settingTypes:["Metin","Metin Listesi","Sayı","Sayı Listesi","Doğru/Yanlış"],hasError:!1,isLoading:!0,isSave:!0}},created(){var i=this.$route.params.id;i!=null?(this.isSave=!1,this.getSetting(i)):this.isLoading=!1},methods:{async getSetting(i){await this.$appAxios.post("/setting/getbyid",i,{headers:{Authorization:`Bearer ${this._token}`}}).then(e=>{this.isLoading=!1,e.hasError==!0||e.data.data==null?(alert(e.data.message),this.$router.push({path:"/faq"})):(this.setting=e.data.data,this.getValue())}).catch(e=>{this.hasError=!0,alert("Error : "+e.message)})},async saveSetting(){$(".form-control").css("border","none"),this.alerts=[],this.hasError=!1,this.isLoading=!0,this.setValue();var i=this.isSave?"/setting/save":"/setting/update";await this.$appAxios.post(i,this.setting,{headers:{Authorization:`Bearer ${this._token}`}}).then(u=>{this.isLoading=!1;var u=u.data;u.hasError&&u.validationErrors.length>0?(this.hasError=!0,u.validationErrors.forEach(a=>{a.key("value")||$("#"+a.key).css("border","2px solid red"),this.alerts.push(a.key+" : "+a.value)})):this.hasError=!1,this.isLoading=!1,alert(u.message),this.hasError||this.$router.push({path:"/settings"})}).catch(e=>{this.hasError=!0,alert("Error : "+e.message)})},getValue(){if(this.setting.type==0){var i=this.setting.value.split("|");this.valueObj={tr:i[0],en:i[1]}}else if(this.setting.type==1){var e=this.setting.value.split("~");e.forEach(u=>{var a=u.split("|");this.valueArr.push({tr:a[0],en:a[1]})})}else if(this.setting.type==2)this.value=this.setting.value;else if(this.setting.type==3){var i=this.setting.value.split("~");i.forEach(a=>{this.valueArr.push(a)})}else this.setting.type==4&&(this.valueBoolean=this.setting.value==="true");return!0},setValue(){if(this.setting.value="",this.setting.type==0)this.setting.value=`${this.valueObj.tr}|${this.valueObj.en}`;else if(this.setting.type==1){if(this.valueArr.length==0)return!1;this.valueArr.forEach(i=>{this.setting.value+=`${i.tr}|${i.en}~`}),this.setting.value=this.trimEndChar(this.setting.value,"~")}else if(this.setting.type==2)this.setting.value=this.value.toString();else if(this.setting.type==3){if(this.valueArr.length==0)return!1;this.valueArr.forEach(i=>{this.setting.value+=`${i}~`}),this.setting.value=this.trimEndChar(this.setting.value,"~")}else this.setting.type==4&&(this.setting.value=this.valueBoolean.toString().toLowerCase());return!0},changeSettingType(){this.valueObj={},this.valueArr=[],this.value=null,this.valueBoolean=!1},addValue(){if(this.setting.type==1)if(this.valueObj.tr&&this.valueObj.en){var i={tr:this.valueObj.tr,en:this.valueObj.en};this.valueArr.push(i),this.valueObj={}}else alert("İnputlar dolu olmalı!!!");else if(this.value){var i=this.value;this.valueArr.push(i),this.value=null}else alert("İnput dolu olmalı!!!")},deleteValue(i){this.valueArr=this.valueArr.filter(e=>e!=i)},trimEndChar(i,e){for(;i.charAt(i.length-1)===e;)i=i.substring(0,i.length-1);return i}},computed:{...y(["_token"])}},E={key:0,class:"form-group row"},V=t("label",{for:"name",class:"col-sm-2 col-form-label"},"Name",-1),A={class:"col-sm-10"},S={key:1,class:"form-group row"},x=t("label",{for:"description",class:"col-sm-2 col-form-label"},"Description",-1),j={class:"col-sm-10"},O={key:2,class:"form-group row"},C=t("label",{for:"answer",class:"col-sm-2 col-form-label"},"Type",-1),L={class:"col-sm-10"},B=["value"],U={class:"col-md-12"},T={class:"card px-3"},D={class:"card-body"},M={class:"card-title"},z={key:0,class:"list-wrapper row"},N={class:"col-md-6"},F={class:"col-md-6"},q={key:1,class:"list-wrapper table-responsive"},G={class:"table table-sm table-striped"},Y=t("i",{class:"fa-solid fa-plus"},null,-1),H=[Y],I={class:"text-center align-middle"},J={class:"text-center align-middle"},K={class:"text-center align-middle"},P=["onClick"],Q=t("i",{class:"fa-solid fa-trash"},null,-1),R=[Q],W={key:2,class:"list-wrapper row"},X={class:"col-md-12"},Z={key:3,class:"list-wrapper table-responsive"},tt={class:"table table-sm table-striped"},et=t("i",{class:"fa-solid fa-plus"},null,-1),st=[et],lt={class:"text-center align-middle"},it={class:"text-center align-middle"},ot=["onClick"],nt=t("i",{class:"fa-solid fa-trash"},null,-1),rt=[nt],at={key:4,class:"list-wrapper row"},ut=t("div",{class:"col-sm-2"},"Aktif",-1),dt={class:"col-sm-10"},ht={class:"form-check"},ct={class:"col-sm-12 mt-2"},vt={class:"loader"},pt=t("br",null,null,-1),gt={class:"row"},mt={class:"alert alert-danger",role:"alert"};function ft(i,e,u,a,l,f){return o(),n(c,null,[t("form",null,[l.isSave?(o(),n("div",E,[V,t("div",A,[r(t("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=s=>l.setting.name=s),class:"form-control",id:"name",placeholder:"Name"},null,512),[[d,l.setting.name]])])])):g("",!0),l.isSave?(o(),n("div",S,[x,t("div",j,[r(t("input",{type:"text","onUpdate:modelValue":e[1]||(e[1]=s=>l.setting.description=s),class:"form-control",id:"description",placeholder:"Description"},null,512),[[d,l.setting.description]])])])):g("",!0),l.isSave?(o(),n("div",O,[C,t("div",L,[r(t("select",{class:"form-control","onUpdate:modelValue":e[2]||(e[2]=s=>l.setting.type=s),onChange:e[3]||(e[3]=(...s)=>f.changeSettingType&&f.changeSettingType(...s))},[(o(!0),n(c,null,v(l.settingTypes,(s,p)=>(o(),n("option",{key:s,value:p},h(s),9,B))),128))],544),[[b,l.setting.type]])])])):g("",!0),t("div",U,[t("div",T,[t("div",D,[t("h4",M,h(l.setting.name?`'${l.setting.name}' `:" "),1),l.setting.type===0?(o(),n("div",z,[t("div",N,[r(t("textarea",{rows:"3","onUpdate:modelValue":e[4]||(e[4]=s=>l.valueObj.tr=s),class:"form-control",id:"description",placeholder:"Türkçe"},null,512),[[d,l.valueObj.tr]])]),t("div",F,[r(t("textarea",{rows:"3","onUpdate:modelValue":e[5]||(e[5]=s=>l.valueObj.en=s),class:"form-control",id:"description",placeholder:"İngilizce"},null,512),[[d,l.valueObj.en]])])])):l.setting.type===1?(o(),n("div",q,[t("table",G,[t("th",null,[r(t("input",{type:"text","onUpdate:modelValue":e[6]||(e[6]=s=>l.valueObj.tr=s),class:"form-control",id:"description",placeholder:"Türkçe"},null,512),[[d,l.valueObj.tr]])]),t("th",null,[r(t("input",{type:"text","onUpdate:modelValue":e[7]||(e[7]=s=>l.valueObj.en=s),class:"form-control",id:"description",placeholder:"İngilizce"},null,512),[[d,l.valueObj.en]])]),t("th",null,[t("a",{class:"add btn btn-primary font-weight-bold todo-list-add-btn",onClick:e[8]||(e[8]=s=>this.addValue()),style:{width:"100%"}},H)]),t("tbody",null,[(o(!0),n(c,null,v(l.valueArr,s=>(o(),n("tr",{key:s.tr},[t("td",I,h(s.tr),1),t("td",J,h(s.en),1),t("td",K,[t("a",{style:{color:"#DE3163"},onClick:p=>this.deleteValue(s),class:"nav-link"},R,8,P)])]))),128))])])])):l.setting.type===2?(o(),n("div",W,[t("div",X,[r(t("input",{type:"number","onUpdate:modelValue":e[9]||(e[9]=s=>l.value=s),class:"form-control"},null,512),[[d,l.value]])])])):l.setting.type===3?(o(),n("div",Z,[t("table",tt,[t("th",null,[r(t("input",{type:"number","onUpdate:modelValue":e[10]||(e[10]=s=>l.value=s),class:"form-control",id:"description",placeholder:"Sayı"},null,512),[[d,l.value]])]),t("th",null,[t("a",{class:"add btn btn-primary font-weight-bold todo-list-add-btn",onClick:e[11]||(e[11]=s=>this.addValue()),style:{width:"100%"}},st)]),t("tbody",null,[(o(!0),n(c,null,v(l.valueArr,s=>(o(),n("tr",{key:s},[t("td",lt,h(s),1),t("td",it,[t("a",{style:{color:"#DE3163"},onClick:p=>this.deleteValue(s),class:"nav-link"},rt,8,ot)])]))),128))])])])):(o(),n("div",at,[ut,t("div",dt,[t("div",ht,[r(t("input",{"onUpdate:modelValue":e[12]||(e[12]=s=>this.valueBoolean=s),class:"form-check-input",type:"checkbox",id:"isActive"},null,512),[[k,this.valueBoolean]])])])]))])])]),t("div",ct,[r(t("div",vt,null,512),[[m,l.isLoading]]),r(t("a",{onClick:e[13]||(e[13]=s=>this.saveSetting()),class:"btn btn-success float-sm-right"},"Save",512),[[m,!l.isLoading]])])]),pt,t("div",gt,[r(t("div",mt,[(o(!0),n(c,null,v(this.alerts,s=>(o(),n("p",null,h(s),1))),256))],512),[[m,this.hasError&&l.alerts.length>0]])])],64)}const yt=_(w,[["render",ft]]);export{yt as default};
