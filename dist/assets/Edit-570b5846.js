import{_ as p,m,o as i,c as l,a as t,w as o,v as n,f as g,F as h,g as u,d as c,t as f}from"./index-24e03175.js";const _={data(){return{faq:{id:"00000000-0000-0000-0000-000000000000",question:null,questionEn:null,answer:null,answerEn:null,category:null,sortOrder:1},alerts:[],categories:[],hasError:!1,isLoading:!0}},created(){var a=this.$route.params.id;a!=null?this.getFaq(a):this.isLoading=!1,this.getFaqCategories()},methods:{async getFaq(a){await this.$appAxios.post("/admin/getfaq",a,{headers:{Authorization:`Bearer ${this._token}`}}).then(s=>{this.isLoading=!1,s.hasError==!0||s.data.data==null?(alert(s.data.message),this.$router.push({path:"/faq"})):this.faq=s.data.data}).catch(s=>{this.hasError=!0,alert("Error : "+s.message)})},async getFaqCategories(){await this.$appAxios.post("/admin/getfaqcategories",null,{headers:{Authorization:`Bearer ${this._token}`}}).then(a=>{this.isLoading=!1,a.hasError==!0||a.data.data==null?(alert(a.data.message),this.$router.push({path:"/faq"})):this.categories=a.data.data}).catch(a=>{this.hasError=!0,alert("Error : "+a.message)})},async saveFaq(){$(".form-control").css("border","none"),this.alerts=[],this.hasError=!1,this.isLoading=!0,this.faq.id!="00000000-0000-0000-0000-000000000000"?await this.$appAxios.post("/admin/updatefaq",this.faq,{headers:{Authorization:`Bearer ${this._token}`}}).then(s=>{this.isLoading=!1;var s=s.data;s.hasError&&s.validationErrors.length>0?(this.hasError=!0,s.validationErrors.forEach(r=>{$("#"+r.key).css("border","2px solid red"),this.alerts.push(r.key+" : "+r.value)})):this.hasError=!1}).catch(a=>{this.hasError=!0,alert("Error : "+a.message)}):await this.$appAxios.post("/admin/savefaq",this.faq,{headers:{Authorization:`Bearer ${this._token}`}}).then(s=>{this.isLoading=!1;var s=s.data;s.hasError||s.validationErrors.length>0?(this.hasError=!0,s.validationErrors.forEach(r=>{$("#"+r.key).css("border","2px solid red"),this.alerts.push(r.key+" : "+r.value)})):this.hasError=!1}).catch(a=>{this.hasError=!0,alert("Error : "+a.message)}),this.isLoading=!1,this.hasError||this.$router.push({path:"/faq"})}},computed:{...m(["_token"])}},E={class:"form-group row"},q=t("label",{for:"question",class:"col-sm-2 col-form-label"},"Question",-1),v={class:"col-sm-10"},w={class:"form-group row"},y=t("label",{for:"questionEn",class:"col-sm-2 col-form-label"},"QuestionEn",-1),b={class:"col-sm-10"},x={class:"form-group row"},k=t("label",{for:"answer",class:"col-sm-2 col-form-label"},"Answer",-1),A={class:"col-sm-10"},L={class:"form-group row"},F=t("label",{for:"answerEn",class:"col-sm-2 col-form-label"},"AnswerEn",-1),B={class:"col-sm-10"},V={class:"form-group row"},O=t("label",{for:"category",class:"col-sm-2 col-form-label"},"Category",-1),U={class:"col-sm-10"},z=["value"],C={class:"form-group row"},Q=t("label",{for:"sortOrder",class:"col-sm-2 col-form-label"},"Order",-1),S={class:"col-sm-10"},D={class:"col-sm-12"},M={class:"loader"},G=t("br",null,null,-1),N={class:"row"},T={class:"alert alert-danger",role:"alert"};function j(a,s,r,H,d,I){return i(),l(h,null,[t("form",null,[t("div",E,[q,t("div",v,[o(t("input",{type:"text","onUpdate:modelValue":s[0]||(s[0]=e=>this.faq.question=e),class:"form-control",id:"question",placeholder:"Question"},null,512),[[n,this.faq.question]])])]),t("div",w,[y,t("div",b,[o(t("input",{type:"textn","onUpdate:modelValue":s[1]||(s[1]=e=>this.faq.questionEn=e),class:"form-control",id:"questionEn",placeholder:"QuestionEn"},null,512),[[n,this.faq.questionEn]])])]),t("div",x,[k,t("div",A,[o(t("input",{type:"text","onUpdate:modelValue":s[2]||(s[2]=e=>this.faq.answer=e),class:"form-control",id:"answer",placeholder:"Answer"},null,512),[[n,this.faq.answer]])])]),t("div",L,[F,t("div",B,[o(t("input",{type:"text","onUpdate:modelValue":s[3]||(s[3]=e=>this.faq.answerEn=e),class:"form-control",id:"answerEn",placeholder:"AnswerEn"},null,512),[[n,this.faq.answerEn]])])]),t("div",V,[O,t("div",U,[o(t("select",{class:"form-control","onUpdate:modelValue":s[4]||(s[4]=e=>this.faq.category=e),id:"category"},[(i(!0),l(h,null,u(this.categories,e=>(i(),l("option",{value:e,key:e},f(e),9,z))),128))],512),[[g,this.faq.category]])])]),t("div",C,[Q,t("div",S,[o(t("input",{type:"number","onUpdate:modelValue":s[5]||(s[5]=e=>this.faq.sortOrder=e),class:"form-control",id:"sortOrder"},null,512),[[n,this.faq.sortOrder]])])]),t("div",D,[o(t("div",M,null,512),[[c,d.isLoading]]),o(t("a",{onClick:s[6]||(s[6]=e=>this.saveFaq()),class:"btn btn-success float-sm-right"},"Save",512),[[c,!d.isLoading]])])]),G,t("div",N,[o(t("div",T,[(i(!0),l(h,null,u(this.alerts,e=>(i(),l("p",null,f(e),1))),256))],512),[[c,this.hasError&&d.alerts.length>0]])])],64)}const K=p(_,[["render",j]]);export{K as default};
