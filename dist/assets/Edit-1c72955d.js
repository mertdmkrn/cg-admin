import{_ as m,m as u,o as n,c,a as e,w as t,v as l,n as v,d,F as h,h as p,t as f}from"./index-f69e2805.js";const _={data(){return{service:{id:"00000000-0000-0000-0000-000000000000",name:null,nameEn:null,className:null,colorCode:"#ffffff",sortOrder:1},alerts:[],hasError:!1,isLoading:!0}},created(){var o=this.$route.params.id;o!==void 0&&o!=="00000000-0000-0000-0000-000000000000"?this.getService(o):this.isLoading=!1},methods:{async getService(o){await this.$appAxios.post("/service/getbyid",o).then(s=>{this.isLoading=!1,s.hasError==!0||s.data.data==null?(alert(s.data.message),this.$router.push({path:"/services"})):this.service=s.data.data}).catch(s=>{this.hasError=!0,alert("Error : "+s.message)})},async saveService(){$(".form-control").css("border","none"),this.alerts=[],this.hasError=!1,this.isLoading=!0,this.service.id!="00000000-0000-0000-0000-000000000000"?await this.$appAxios.post("/service/update",this.service,{headers:{Authorization:`Bearer ${this._token}`}}).then(s=>{this.isLoading=!1;var s=s.data;s.hasError&&s.validationErrors.length>0?(this.hasError=!0,s.validationErrors.forEach(a=>{$("#"+a.key).css("border","2px solid red"),this.alerts.push(a.key+" : "+a.value)})):this.hasError=!1}).catch(o=>{this.hasError=!0,alert("Error : "+o.message)}):await this.$appAxios.post("/service/save",this.service,{headers:{Authorization:`Bearer ${this._token}`}}).then(s=>{this.isLoading=!1;var s=s.data;s.hasError||s.validationErrors.length>0?(this.hasError=!0,s.validationErrors.forEach(a=>{$("#"+a.key).css("border","2px solid red"),this.alerts.push(a.key+" : "+a.value)})):this.hasError=!1}).catch(o=>{this.hasError=!0,alert("Error : "+o.message)}),this.isLoading=!1,this.hasError||this.$router.push({path:"/services"})}},computed:{...u(["_token"])}},E={class:"form-group row"},g=e("label",{for:"name",class:"col-sm-2 col-form-label"},"Name",-1),b={class:"col-sm-10"},y={class:"form-group row"},x=e("label",{for:"nameEn",class:"col-sm-2 col-form-label"},"Name En",-1),C={class:"col-sm-10"},w={class:"form-group row"},k=e("label",{for:"className",class:"col-sm-2 col-form-label"},"Class Name",-1),N={class:"col-sm-10"},L={class:"form-group row"},S=e("label",{for:"colorCode",class:"col-sm-2 col-form-label"},"Color Code",-1),V={class:"col-sm-9"},O={class:"col-sm-1"},U={class:"form-group row"},A=e("label",{for:"sortOrder",class:"col-sm-2 col-form-label"},"Order",-1),B={class:"col-sm-10"},z={class:"col-sm-12"},D={class:"loader"},F=e("br",null,null,-1),G={class:"row"},M={class:"alert alert-danger",role:"alert"};function T(o,s,a,j,i,q){return n(),c(h,null,[e("form",null,[e("div",E,[g,e("div",b,[t(e("input",{type:"text","onUpdate:modelValue":s[0]||(s[0]=r=>this.service.name=r),class:"form-control",id:"name",placeholder:"Name"},null,512),[[l,this.service.name]])])]),e("div",y,[x,e("div",C,[t(e("input",{type:"text","onUpdate:modelValue":s[1]||(s[1]=r=>this.service.nameEn=r),class:"form-control",id:"nameEn",placeholder:"English Name"},null,512),[[l,this.service.nameEn]])])]),e("div",w,[k,e("div",N,[t(e("input",{type:"text","onUpdate:modelValue":s[2]||(s[2]=r=>this.service.className=r),class:"form-control",id:"className"},null,512),[[l,this.service.className]])])]),e("div",L,[S,e("div",V,[t(e("input",{type:"text",class:"form-control",id:"colorCode","onUpdate:modelValue":s[3]||(s[3]=r=>this.service.colorCode=r)},null,512),[[l,this.service.colorCode]])]),e("div",O,[t(e("input",{type:"color",style:v({backgroundColor:`${this.service.colorCode}`}),"onUpdate:modelValue":s[4]||(s[4]=r=>this.service.colorCode=r),class:"form-control"},null,4),[[l,this.service.colorCode]])])]),e("div",U,[A,e("div",B,[t(e("input",{type:"number","onUpdate:modelValue":s[5]||(s[5]=r=>this.service.sortOrder=r),class:"form-control",id:"sortOrder"},null,512),[[l,this.service.sortOrder]])])]),e("div",z,[t(e("div",D,null,512),[[d,i.isLoading]]),t(e("a",{onClick:s[6]||(s[6]=r=>this.saveService()),class:"btn btn-success float-sm-right"},"Save",512),[[d,!i.isLoading]])])]),F,e("div",G,[t(e("div",M,[(n(!0),c(h,null,p(this.alerts,r=>(n(),c("p",null,f(r),1))),256))],512),[[d,this.hasError&&i.alerts.length>0]])])],64)}const I=m(_,[["render",T]]);export{I as default};
