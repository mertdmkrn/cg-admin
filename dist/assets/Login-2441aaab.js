import{_ as u,o as m,c as h,a as s,w as i,v as r,b as g,d as c}from"./index-1b8d3555.js";const p={data(){return{isLoading:!1,userData:{email:null,password:null}}},methods:{async onLogin(){this.isLoading=!0,await this.$appAxios.post("/user/adminlogin",this.userData).then(l=>{var n,d;var o=(d=(n=l==null?void 0:l.data)==null?void 0:n.data)==null?void 0:d.token;o!==void 0?(this.$store.commit("setToken",o),setTimeout(200),this.$appAxios.post("/user/get",null,{headers:{Authorization:`Bearer ${o}`}}).then(t=>{var a;this.$store.commit("setUser",(a=t==null?void 0:t.data)==null?void 0:a.data),this.$router.push({path:"/"})}).catch(t=>{console.log(t),alert("Böyle bir kullanıcı bulunamadı."),this.isLoading=!1})):(this.isLoading=!1,alert("Böyle bir kullanıcı bulunamadı."))}).catch(l=>{console.log(l.message),alert("Böyle bir kullanıcı bulunamadı."),this.isLoading=!1})}}},_={class:"row justify-content-center"},f={class:"col-xl-10 col-lg-12 col-md-9"},b={class:"card o-hidden border-0 shadow-lg my-15"},v={class:"card-body p-0"},y={class:"row"},w=s("div",{class:"col-lg-6 d-none d-lg-block bg-login-image"},null,-1),L={class:"col-lg-6"},k={class:"p-5"},x=s("div",{class:"text-center"},[s("h1",{class:"h1 text-gray-800 mb-4"},"CG ADMIN")],-1),D={class:"user"},B={class:"form-group"},A={class:"form-group"},E={class:"form-group"},I={class:"loader"};function T(l,o,n,d,t,a){return m(),h("div",_,[s("div",f,[s("div",b,[s("div",v,[s("div",y,[w,s("div",L,[s("div",k,[x,s("form",D,[s("div",B,[i(s("input",{"onUpdate:modelValue":o[0]||(o[0]=e=>t.userData.email=e),type:"email",class:"form-control form-control-user",id:"exampleInputEmail","aria-describedby":"emailHelp",placeholder:"Email Address"},null,512),[[r,t.userData.email]])]),s("div",A,[i(s("input",{"onUpdate:modelValue":o[1]||(o[1]=e=>t.userData.password=e),type:"password",class:"form-control form-control-user",id:"exampleInputPassword",placeholder:"Password",onKeyup:o[2]||(o[2]=g((...e)=>a.onLogin&&a.onLogin(...e),["enter"]))},null,544),[[r,t.userData.password]])]),s("div",E,[i(s("div",I,null,512),[[c,t.isLoading]]),i(s("a",{onClick:o[3]||(o[3]=(...e)=>a.onLogin&&a.onLogin(...e)),type:"submit",class:"btn btn-primary btn-user btn-block"}," Login ",512),[[c,!t.isLoading]])])])])])])])])])])}const V=u(p,[["render",T]]);export{V as default};
