import{_ as m,m as u,o as n,c,a as e,w as a,v as i,d,F as h,g as v,t as p}from"./index-c7f8cf53.js";const f={data(){return{service:{id:"00000000-0000-0000-0000-000000000000",name:null,nameEn:null,className:null,colorCode:null,sortOrder:1},alerts:[],hasError:!1,isLoading:!0}},created(){var o=this.$route.params.id;o!==void 0&&o!=="00000000-0000-0000-0000-000000000000"?this.getService(o):this.isLoading=!1},methods:{async getService(o){await this.$appAxios.post("/service/getbyid",o).then(s=>{this.isLoading=!1,s.hasError==!0||s.data.data==null?(alert(s.data.message),this.$router.push({path:"/services"})):this.service=s.data.data}).catch(s=>{this.hasError=!0,alert("Error : "+s.message)})},async saveService(){$(".form-control").css("border","none"),this.alerts=[],this.hasError=!1,this.isLoading=!0,this.service.id!="00000000-0000-0000-0000-000000000000"?await this.$appAxios.post("/service/update",this.service,{headers:{Authorization:`Bearer ${this._token}`}}).then(s=>{this.isLoading=!1;var s=s.data;s.hasError&&s.validationErrors.length>0?(this.hasError=!0,s.validationErrors.forEach(t=>{$("#"+t.key).css("border","2px solid red"),this.alerts.push(t.key+" : "+t.value)})):this.hasError=!1}).catch(o=>{this.hasError=!0,alert("Error : "+o.message)}):await this.$appAxios.post("/service/save",this.service,{headers:{Authorization:`Bearer ${this._token}`}}).then(s=>{this.isLoading=!1;var s=s.data;s.hasError||s.validationErrors.length>0?(this.hasError=!0,s.validationErrors.forEach(t=>{$("#"+t.key).css("border","2px solid red"),this.alerts.push(t.key+" : "+t.value)})):this.hasError=!1}).catch(o=>{this.hasError=!0,alert("Error : "+o.message)}),this.isLoading=!1,this.hasError||this.$router.push({path:"/services"})}},computed:{...u(["_token"])}},_={class:"form-group row"},E=e("label",{for:"name",class:"col-sm-2 col-form-label"},"Name",-1),g={class:"col-sm-10"},b={class:"form-group row"},x=e("label",{for:"nameEn",class:"col-sm-2 col-form-label"},"Name En",-1),y={class:"col-sm-10"},w={class:"form-group row"},N=e("label",{for:"className",class:"col-sm-2 col-form-label"},"Class Name",-1),k={class:"col-sm-10"},L={class:"form-group row"},C=e("label",{for:"colorCode",class:"col-sm-2 col-form-label"},"Color Code",-1),S={class:"col-sm-10"},O={class:"form-group row"},V=e("label",{for:"sortOrder",class:"col-sm-2 col-form-label"},"Order",-1),A={class:"col-sm-10"},B={class:"col-sm-12"},U={class:"loader"},z=e("br",null,null,-1),D={class:"row"},F={class:"alert alert-danger",role:"alert"};function G(o,s,t,M,l,T){return n(),c(h,null,[e("form",null,[e("div",_,[E,e("div",g,[a(e("input",{type:"text","onUpdate:modelValue":s[0]||(s[0]=r=>this.service.name=r),class:"form-control",id:"name",placeholder:"Name"},null,512),[[i,this.service.name]])])]),e("div",b,[x,e("div",y,[a(e("input",{type:"text","onUpdate:modelValue":s[1]||(s[1]=r=>this.service.nameEn=r),class:"form-control",id:"nameEn",placeholder:"English Name"},null,512),[[i,this.service.nameEn]])])]),e("div",w,[N,e("div",k,[a(e("input",{type:"text","onUpdate:modelValue":s[2]||(s[2]=r=>this.service.className=r),class:"form-control",id:"className"},null,512),[[i,this.service.className]])])]),e("div",L,[C,e("div",S,[a(e("input",{type:"text","onUpdate:modelValue":s[3]||(s[3]=r=>this.service.colorCode=r),class:"form-control",id:"colorCode"},null,512),[[i,this.service.colorCode]])])]),e("div",O,[V,e("div",A,[a(e("input",{type:"number","onUpdate:modelValue":s[4]||(s[4]=r=>this.service.sortOrder=r),class:"form-control",id:"sortOrder"},null,512),[[i,this.service.sortOrder]])])]),e("div",B,[a(e("div",U,null,512),[[d,l.isLoading]]),a(e("a",{onClick:s[5]||(s[5]=r=>this.saveService()),class:"btn btn-success float-sm-right"},"Save",512),[[d,!l.isLoading]])])]),z,e("div",D,[a(e("div",F,[(n(!0),c(h,null,v(this.alerts,r=>(n(),c("p",null,p(r),1))),256))],512),[[d,this.hasError&&l.alerts.length>0]])])],64)}const q=m(f,[["render",G]]);export{q as default};
